<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Ver columnas</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/sql.js/1.6.2/sql-wasm.js"></script>
</head>
<body>
  <h1>Columnas de la tabla samples</h1>
  <pre id="resultado"></pre>

  <script>
    initSqlJs({ locateFile: file => `https://cdnjs.cloudflare.com/ajax/libs/sql.js/1.6.2/${file}` })
      .then(async (SQL) => {
        // Cargar la base .db como ArrayBuffer
        const response = await fetch("samples.db");
        const buffer = await response.arrayBuffer();
        const db = new SQL.Database(new Uint8Array(buffer));

        // Obtener info de las columnas
        const res = db.exec("PRAGMA table_info(samples);");

        // res[0].values contiene las filas
        // Columnas devueltas: cid, name, type, notnull, dflt_value, pk
        let salida = "cid | name | type | notnull | dflt_value | pk\n";
        salida += "--------------------------------------------------\n";
        res[0].values.forEach(col => {
          salida += col.join(" | ") + "\n";
        });

        document.getElementById("resultado").textContent = salida;
      });
  </script>
</body> 
</html>
